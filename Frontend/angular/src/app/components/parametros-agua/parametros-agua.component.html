<div style="width:100%">

    <h1 class="animate__animated animate__backInDown">PARAMETROS</h1>
    <div style="margin-left:1%">
      <div class="mat-elevation-z8">

        <button mat-button [matMenuTriggerFor]="menu2" style="margin-bottom:1%">Descargar
          <mat-icon>get_app</mat-icon>
      </button>
      <mat-menu #menu2="matMenu">
          <button mat-menu-item (click)="exporter.exportTable('xls', {fileName: 'Reporte Parametros'})">XLS</button>
          <button mat-menu-item (click)="exporter.exportTable('csv', {fileName: 'Reporte Parametros'})">CSV</button>
          <button mat-menu-item (click)="exportPDF()">PDF</button>
      </mat-menu>
      <app-pdf-creator #pdfGenerator [data]="dataSource" [title]="title" [columns]="['Nombre', 'Nombre Clave', 'Ennumerado', 'Matrices']"></app-pdf-creator>


<table mat-table matTableExporter [dataSource]="dataSource" class="full-width-table" #exporter="matTableExporter">
    

  <ng-container *ngFor="let column of displayedColumns">

      <ng-container matColumnDef="{{ column }}">
        <th mat-header-cell *matHeaderCellDef>{{ getColumnHeader(column) }}
          <br />
          
          <mat-form-field style="padding-right: 5px;"  appearance="fill" *ngIf="column === 'param_nombre' || column === 'param_nomclave'">
            <input matInput (keyup)="applyColumnFilter(column, $event)" placeholder="Buscar"/>
          </mat-form-field>

          <mat-form-field style="padding-right: 5px;"  appearance="fill" *ngIf="column === 'param_enum'">
            <mat-select [(value)]="selectedEnum" (selectionChange)="applyEnumFilter($event.value)">
              <mat-option value="">Todos</mat-option>
              <mat-option value="SI">SI</mat-option>
              <mat-option value="NO">NO</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field style="padding-right: 5px;"  class="subItemField" appearance="fill" *ngIf="column === 'matriz_detalle'">
             <mat-select formControlName="matriz" required (selectionChange)="applyMatrizFilter($event.value)">
              <mat-option value="">Todas</mat-option>
              <mat-option *ngFor="let matriz of matrices" [value]="matriz.nombre">
                    {{matriz.nombre}}
                </mat-option>
            </mat-select>
        </mat-form-field>


        </th>

        <td mat-cell *matCellDef="let element"> {{ element[column] }} </td>
      </ng-container>

  



    </ng-container>
  
   
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    

   
  </table>

<!--  
<table mat-table matTableExporter [dataSource]="dataSource" class="full-width-table" #exporter="matTableExporter">
  <ng-container *ngFor="let column of displayedColumns">
    <ng-container matColumnDef="{{ column }}">
      <th mat-header-cell *matHeaderCellDef>{{ getColumnHeader(column) }}</th>
      <td mat-cell *matCellDef="let element" matTableExporterIgnore>
        <ng-container *ngIf="column === 'param_nombre' || column === 'param_nomclave'">
          <input matInput (keyup)="applyColumnFilter(column, $event)" />
        </ng-container>
        <ng-container *ngIf="column === 'param_enum'">
          <mat-select (selectionChange)="applyEnumFilter($event.value)">
            <mat-option value="" selected="yes">Todos</mat-option>
            <mat-option value="SI">SI</mat-option>
            <mat-option value="NO">NO</mat-option>
          </mat-select>
        </ng-container>
        <ng-container *ngIf="column === 'matriz_detalle'">
          <mat-select formControlName="matriz" required (selectionChange)="applyMatrizFilter($event.value)">
            <mat-option value="" selected="yes">Todos</mat-option>
            <mat-option *ngFor="let matriz of matrices" [value]="matriz.nombre">
              {{ matriz.nombre }}
            </mat-option>
          </mat-select>
        </ng-container>
        <span *ngIf="column !== 'param_nombre' && column !== 'param_nomclave' && column !== 'param_enum' && column !== 'matriz_detalle'">
          {{ element[column] }}
        </span>
      </td>
    </ng-container>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
-->


  <mat-paginator [pageSize]="10" showFirstLastButtons></mat-paginator>

</div>
</div>     
</div>  