<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
<div class="dialog-container">
  <button type="button" mat-raised-button class="close-button" (click)="closeDialog()">
    <mat-icon>close</mat-icon>
  </button>
<div class="contenedores">
  <h1 class="animate__animated animate__backInDown">Editar programa</h1>
  <div class="formulario">

        <form [formGroup]="programFormGroup" autocomplete="off">
          <div class="flex-container">
          <mat-form-field style="margin-right:2%" class="subItemField" appearance="fill">
            <mat-label>Nombre</mat-label>
            <input type="text" formControlName="nombre" matInput required>
          </mat-form-field>
          <mat-form-field class="subItemField" appearance="fill">
            <mat-label>C칩digo</mat-label>
            <input type="text" formControlName="codigo" matInput required>
          </mat-form-field>
          
          <mat-checkbox formControlName="visiblePorExternos" >
            Visible por externos
          </mat-checkbox>
        </div>      
        
        <div class="separator-container">
          <hr class="separator">
        </div>
          <div class="parameters-container">
            <div class="parameters-column">
              <h2>Par치metros</h2>
              <div class="scrollable-list">
                <div class="form-fields-container">
                <mat-form-field>
                  <mat-select placeholder="Seleccionar grupo" formControlName="selectedGroup" (selectionChange)="onGroupChange($event)" style="cursor: pointer;">
                    <mat-option *ngFor="let group of groups" [value]="group.name">
                      {{ group.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field>
                  <input matInput placeholder="Buscar par치metros" formControlName="searchTerm" (input)="onSearchInputChange($event)">
                </mat-form-field>
              </div>
                <mat-list>
                  <mat-list-item *ngIf="selectedGroup" (click)="selectAllOptionsInGroup()" [ngClass]="{ 'bold-text': selectedGroup === 'Todos los' }" style="cursor: pointer;">
                    <span>Todos los {{ selectedGroup }}</span>
                  </mat-list-item>
                  <mat-list-item *ngFor="let option of filteredOptions" (click)="selectOption(option.parametro)" [class.greyed-out]="isSelected(option.parametro)" style="cursor: pointer;">
                    {{ option.parametro }}
                  </mat-list-item>
                </mat-list>
              </div>
            </div>
          
            <div class="selected-options">
              <h2>Par치metros seleccionados</h2>
              <div class="scrollable-list">
                <mat-chip-list>
                  <mat-chip *ngFor="let selected of selectedOptions" [removable]="true" (removed)="removeOption(selected.option)" [ngStyle]="{'background-color': selected.color}">
                    {{ selected.option }}
                    <mat-icon matChipRemove>cancel</mat-icon>
                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>
          </div>  
          <div class="button-and-alert-container">    
            <button type="button" class="btn btn-info" (click)="modifyProgram()">Editar Programa</button>                          
            
            <div class="alertBox">
              <alert></alert> 
            </div>
          </div>
        </form>

